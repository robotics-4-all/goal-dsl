import time_constraint
import condition
import entity
import utils


EntityGoal: EntityStateChangeGoal | EntityStateConditionGoal | EntityPyConditionGoal;

EntityStateChangeGoal:
    'Goal<EntityStateChange>' name=ID
    (
        ('entity:' entity=[Entity:FQN|+m:entities*])
        ('timeConstraints:' '-' timeConstraints*=TimeConstraint['-'])?
    )#
    'end'
;

EntityStateConditionGoal:
    'Goal<EntityStateCondition>' name=ID
    (
        ('condition:' condition=Condition)
        ('timeConstraints:' '-' timeConstraints*=TimeConstraint['-'])?
    )#
    'end'
;

EntityPyConditionGoal:
    'Goal<EntityPyCondition>' name=ID
    (
        ('condition:' condition=STRING)
        ('timeConstraints:' '-' timeConstraints*=TimeConstraint['-'])?
    )#
    'end'
;

EntityStateStreamGoal:
    'Goal<EntityStateStream>' name=ID
    (
        ('entity:' entity=[Entity:FQN|+m:entities*])
        // ('states:' '[' states+=Point[','] ']')
        ('strategy:' maxDeviation=NUMBER)?
        ('timeConstraints:' '-' timeConstraints*=TimeConstraint['-'])?
    )#
    'end'
;

